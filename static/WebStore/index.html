<!DOCTYPE html>
<!--
Copyright 2010 Google Inc.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

Original slides:
    Marcin Wichary (mwichary)

Modifications:
    Paul Kinlan (paulkinlan)
    Ernest Delgado (ernestd)
    Alex Russell (slightlyoff)
    Mihai Ionescu (mihai)
    Arne Roomann-Kurrik (kurrik)
-->
<html>
  <head>
    <title>Google Chrome Apps and the Web Store</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <script src="static/js/box2d.min.js"></script>
    <script src="static/js/pretty.js"></script>
    <script src="static/js/jquery.min.js"></script>
    <script src="static/js/slide-presentation.js"></script>
    <script src="static/js/slide-content.js"></script>
    <script src="static/js/worker-lib.js"></script>
    <script src="http://www.google.com/jsapi"></script>
    <style> 
      .reflection {
        -webkit-box-reflect:below 5px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(0.5, transparent), to(white));
      }
    </style>
    <link href='http://fonts.googleapis.com/css?family=Reenie+Beanie&subset=latin' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="static/css/slide-presentation.css" />
    <link rel="stylesheet" href="static/css/prettify.css" />
    <link rel="stylesheet" href="static/css/slide-content.css" />
    <link href='http://fonts.googleapis.com/css?family=Molengo|Yanone+Kaffeesatz|Droid+Serif|OFL+Sorts+Mill+Goudy+TT|Inconsolata|Lobster|Cantal|Josefin+Sans+Std+Light' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <div class="presentation">
      <div class="slides">


<script>
  function hide(id) {
    $('#' + id).addClass('hidden');
  }
  function unhide(id) {
    $('#' + id).removeClass('hidden');
  };
  $(document).ready(function() {
    prettyPrint();
  });
</script>
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Lobster">

<!--
 *
 * Session Title
 *
-->
<div class="slide">
  <section class="center">
    <div class="titleContent">
      <h2 class="titleTitle">
        HTML5 Web Apps and the Chrome Web Store
      </h2>
      
     
      <p class="titleText">
        Paul Kinlan (<a href="http://twitter.com/paul_kinlan">@Paul_Kinlan</a>)<br/>
        March 2010
      </p>
    </div>
  </section>
</div>

<div class="slide">
  <header></header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <p class="titleText">
      Just ask questions as we go along.
      </p>
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
     <h3>Lets start in 1997</h3>
  </section>
</div>

<div class="slide">
  <header>First Web apps</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter center" style="height:600px;text-align:center">
    <img src="static/images/404.png" class="reflection" width=500>
    </div>
  </section>
</div>

<div class="slide">
  <header>An app</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter center" style="height:600px;text-align:center">
    <img src="static/images/1997-hotmail.png" width=500>
    </div>
  </section>
</div>

<div class="slide">
  <header>Desktop apps were deep and complex!</header>
  <section class="hbox boxcenter" style="height:500px">
    <!-- Rich functionality but not connected -->
    <img src="static/images/openoffice.png" class="reflection" width=400 style="">
    <img src="static/images/gimp.png" class="reflection" width=400>
  </section>
</div>

<div class="slide">
  <header>But pretty much everything is stored locally!</header>
  <section class="hbox boxcenter" style="height:500px">
    <!-- Rich functionality but not connected -->
    <img src="static/images/outlook.gif" class="reflection" style="">
  </section>
</div>

<div class="slide">
  <header>Which is best?</header>
  <section class="hbox boxcenter" style="height:500px">
    <!-- Rich functionality but not connected -->
    <img src="static/images/1997-hotmail.png" class="reflection" width=300> <div style="-webkit-transform: scale(3); color: red; position:absolute; left: 430px; font-family:'Lobster';top:300px; text-shadow: #000 0px 0px 10px;">VS</div>
    <img src="static/images/outlook.gif" width=300 class="reflection" style="">
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter center">
      <p style="font-family:'Reenie Beanie'; font-size: 1.6em;">Web Apps = Cloud Goodness <strong>-</strong> Desktop Richness</p>
    </div>
  </section>
</div>

<div class="slide">
  <header>Then....AJAX. BOOM!</header>
  <section class="hbox boxcenter">
    <!-- Suddenlly apps on the web got really interesting. -->
    <img src="static/images/Google-moon.png" />
  </section>
</div>

<div class="slide">
  <header>Now.... HTML5</header>
  <section class="hbox boxcenter">
    <div class="flex vbox boxcenter" style="text-align: center;">
    <img src="static/images/html5logo.png" style="border: 1px solid white; border-radius: 20px;" />
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter center">
      <p style="font-family:'Reenie Beanie'; font-size: 1.6em;">Web Apps = Cloud Goodness <strong>+</strong> Desktop Richness</p>
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter center">
      <p>Web Apps or Web Site?</p>
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter center">
     <img src="static/images/wiki.png">
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter center">
     <img src="static/images/wikimap.png">
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter center">
      <!-- Twitter -->
      <img src="static/images/twitter.png">
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter center">
      <!-- Gmail -->
      <img src="static/images/gmail.png">
    </div>
  </section>
</div>

<div class="slide">
  <header>Great, so I have a cool app. Now what? </header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <h1>Get lots of users</h1>
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <header>Users: Finding great apps is hard!</header>
    <div class="noflex vbox boxcenter" style="height:500px; text-align:center">
      <img src="static/images/userflow.png" >
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <header>What you want to be doing</header>
    <div class="noflex vbox boxcenter">
      <img src="static/images/idealgetusers.png" width=550>
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <header>This is what you actually do!</header>
    <div class="noflex vbox boxcenter">
      <img src="static/images/gettingusers.png" width=700>
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <header>But where do you make the money!</header>
    <div class="noflex vbox boxcenter">
      <p>Now for a little story.</p>
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <header>I learnt</header>
    <div class="noflex vbox boxcenter">
      <p style="text-align: center">If <strong>your app is good</strong>, users <br>will be willing to <strong>pay</strong> for it!</p>
      <p>But It's:</p>
      <ul>
        <li>Hard to ask people to pay</li>
        <li>Hard to integrate into your app</li>
      </ul>
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <header>We have a great platform in HTML, but how do we get found?</header>
    <div class="noflex vbox boxcenter">
      <h3>Chrome Web Store</h3>
      <p>And The Netherlands</p>
    </div>
  </section>
</div>

<div class="slide">
  <header>Discovery</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <img src="static/images/ebuddy.png" width=700>
    </div>
  </section>
</div>


<div class="slide">
  <header>Discovery</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <img src="static/images/shuffler.png" width=700>
    </div>
  </section>
</div>

<div class="slide">
  <header>Your place</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <img src="static/images/bbc.png" width=700>
    </div>
  </section>
</div>

<div class="slide">
  <header>Make it easy for users to buy apps</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <img src="static/images/buy.png" width=700>
    </div>
  </section>
</div>

<div class="slide">
  <header>Make it easy for users to run apps</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <img src="static/images/cws.jpg">
  </section>
</div>

<div class="slide">
  <header>Make it easy for developers to sell apps</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
    <img src="static/images/pricing.png">
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter"><div class="noflex vbox boxcenter"><h3>How do I get my app into the store?</h3></div></section>
</div>


<div class="slide">
  <header>It Depends</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
    <img src="static/images/chrome-venn.jpg">
    </div>
  </section>
</div>


<div class="slide"> 
  <section class="hbox boxcenter"> 
    <div class="noflex vbox boxcenter"> 
     <h2>Hosted Apps</h2> 
  </div> 
  </section> 
</div> 
 
<div class="slide"> 
  <header>manifest.json, again</header> 
  <section class="hbox boxcenter"> 
    <div class="noflex vbox boxcenter"> 
<pre class="prettyprint">{
  "name" : "Hacker News Reader",
  "description" : "A reader for the Hacker News website",
  "version": "1",
  "icons": {
    "24": "logo24.png", "128": "logo.png"
  },
  "permissions": [
    "unlimitedStorage"
  ],
  "app" : {
    "urls": ["http://project.mahemoff.com/hn"],
    "launch": {
      <strong>"web_url": "http://project.mahemoff.com/hn"</strong> 
    }
  }
}</pre> 
    </div> 
  </section> 
</div> 
 
<div class="slide"> 
  <section class="hbox boxcenter"> 
    <div class="noflex vbox boxcenter"> 
     <h2>Packaged Apps</h2> 
  </div> 
  </section> 
</div> 
 
<div class="slide"> 
  <header>manifest.json for a packaged app</header> 
  <section class="hbox boxcenter"> 
    <div class="noflex vbox boxcenter"> 
<pre class="prettyprint">{
  "name" : "Encyclomapedia",
  "description" : "A reference app",
  "version": "1",
  "icons": {
    "24": "logo24.png", "128": "logo.png"
  },
  "permissions": [
    "unlimitedStorage"
  ],
  "app" : {
    "urls": ["http://wikipedia.com", "http://news.google.com"],
    "launch": {
      <strong>"local_path": "index.html"</strong> 
    }
  }
}</pre> 
    </div> 
  </section> 
</div> 
 
<div class="slide"> 
  <header>Packaged Apps can do Extension Stuff</header> 
  <section class="hbox boxcenter"> 
    <div class="noflex vbox boxcenter"> 
      <ul> 
        <li>Cross-domain calls</li> 
        <li>Content scripts</li> 
        <li>Idle detection</li> 
        <li>Context menu</li> 
        <li>Backround page</li> 
        <li>... in fact, anything extensions can do! (Well, almost.)</li> 
      </ul> 
  </div> 
  </section> 
</div> 

<div class="slide"> 
  <section class="hbox boxcenter"> 
    <header>Right, let's make a hosted app!</header> 
    <div class="noflex vbox boxcenter"> 
    <ul> 
      <li><code>Make manifest.json</code></li> 
      <li><code>Add the code</code></li> 
      <li><code>Import in Dev Mode</code></li> 
      <li><code>Pack it</code></li> 
      <li><code>Submit it</code></li> 
    </ul> 
    </div> 
  </section> 
</div> 
 
<div class="slide"> 
  <section class="hbox boxcenter"> 
    <header>OR use AppMator app (http://appmator.appspot.com)</header> 
    <div class="noflex vbox boxcenter"> 
    <ul> 
      <li><s><code>Make manifest.json</code></s></li> 
      <li><s><code>Add the code</code></s></li> 
      <li><s><code>Import in Dev Mode</code></s></li> 
      <li><s><code>Pack it</code></s></li> 
      <li><code>Submit it</code></li> 
    </ul> 
    </div> 
  </section> 
</div> 

<div class="slide">
  <header>Simple Licensing</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <ul>
        <li>OpenID</li>
        <li>OAuth</li>
      </ul>
      <p style="text-align: center">Easy as <strong>1.</strong>, <strong>2.</strong>, <strong>3.</strong> </p>
      <img src="static/images/Checklicense.png">
    </div>
  </section>
</div>

<div class="slide">
  <header>Some more bits</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      Building great apps.
    </div>
  </section>
</div>

<div class="slide">
  <header>What makes Web Apps special?</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <p>Are <strong>Task Orientated</strong></p>
      <p>Have a <strong>Tight Focus</strong></p>
      <p>Possess a <strong>Rich UX</strong></p>
    </div>
  </section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <h3>Things to make things awesome!</h3>
    </div>
  </section>
</div>

<div class="slide">
  <header>Lazy registration</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <img src="static/images/lazyregistation.png" width=800>
    </div>
  </section>
</div>

<div class="slide">
  <header>Transparent registration</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <img src="static/images/transparent.png" width=800>
    </div>
  </section>
</div>

<div class="slide">
  <header>Automatic Persistence</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <!--<iframe src="http://ietherpad.com/SQJ9gxkvFw" style="border: none; background: transparent; width: 850px; height: 450px;"></iframe>
      --><a href="http://ietherpad.com/">ietherpad.com</a>
    </div>
  </section>
</div>

<div class="slide" id="slide-draganddrop">
  <header>Rich Interactions - Drag from the Desktop</header>
  <section class="noflex">
    <pre>drophere.addEventListener("drop", function(e) {
  e.preventDefault();
  var files = <b>event.dataTransfer.files</b>;
  for(var i = 0, file; file = files[i]; i++) {
    var reader = new <b>FileReader</b>();
    reader.onload = (function(aFile) {
      return function(evt) {
        var data = <b>evt.target.result</b>;
        ...
      }; })(file);
    reader.readAsDataURL(file);
  }
});</section>
</div>

<div class="slide">
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter center">
    <iframe src="drag.html" style="border: none; background: transparent; width: 800px; height: 450px;"></iframe>
    <p style="font-size: 0.6em">By <a href="http://monocubed.com/">http://monocubed.com</a></p>
    </div>
  </section>
</div>


<div class="slide" id="slide-draganddrop">
  <header>Rich Interactions - Drag to the Desktop</header>
  <section class="vbox boxcenter flex">
    <pre>var dragElement = document.getElementById("dragImage");
  dragElement.addEventListener(
    "dragstart",
    function(e) {
    <b>e.dataTransfer.setData("DownloadURL","image/png:test.png:http://test.com/test.png");</b>
    },
    false);</pre>
  </section>
  <section class="vbox boxcenter flex">
    <div class="hcenter hbox boxcenter">
      <div id="dragImage" draggable="true" class="dropTarget ">
        Drag me!
      </div>
    </div>
  </section>
</div>

<script>

(function() {
   var dragElement = document.getElementById("dragImage");
   
   dragElement.addEventListener(
    "dragstart",
    function(e) {
      e.dataTransfer.setData(
        "DownloadURL","image/png:Portugal.png:http://londonwebstorenight.appspot.com/html5/static/images/q_and_a.png");
    },
    false);
  
})();
</script>

<div class="slide" id="slide-dndfiles"> 
  <header>Getting File Handles: Directory Upload</header> 
  <section> 
    <pre class="hcenter">&lt;input type="file" <b>webkitdirectory</b> /&gt;</pre> 
  </section> 
  <section> 
    <ul> 
      <li>Files in the <code>FileList</code> will have a <code>webkitRelativePath</code> property</li> 
    </ul> 
  </section> 
  <section class="hcenter"> 
    <a href="demos/upload_directory/index.html" target="_new"> 
      <img src="static/images/folder.png" class="clickable"/> 
    </a> 
  </section> 
</div>

<!--
 *
 * FileSystem: requestFileSystem()
 *
--> 
<div class="slide"> 
  <header><code>requestFileSystem();</code></header> 
  <section> 
    <pre><b>window.requestFileSystem</b>(
  TEMPORARY,        // persistent vs. temporary storage
  1024 * 1024,      // size (bytes) of needed space
  initFs,           // success callback
  opt_errorHandler  // opt. error callback, denial of access
);</pre> 
    <ul style="font-size: 90%" data-build> 
      <li><code>TEMPORARY</code> storage
        <ul> 
          <li>Meant for caching</li> 
          <li>Data can be deleted at the UA's convenience</li> 
          <li>(e.g. to deal with a shortage of disk space)</li> 
        </ul> 
      </li> 
      <li><code>PERSISTENT</code> storage
        <ul> 
          <li>UA should require permission to use</li> 
          <li>Data should not be deleted by UA w/o user intervention
            <ul> 
              <li>...but app can delete at will</li> 
            </ul> 
          </li> 
        </ul> 
      </li> 
    </ul> 
  </section> 
</div> 
 
 
<!--
 *
 * FileSystem: Fetching a file by name
 *
--> 
<div class="slide"> 
  <header>Fetching a file by name</header> 
  <section> 
    <pre style="font-size:20px;"> 
function initFs(fs) {
 
  <b>fs.root.getFile</b>('logFile.txt', {create: true}, function(fileEntry) {
 
    // <b>fileEntry.isFile</b> == true
    // <b>fileEntry.name</b> == 'logFile.txt'
    // <b>fileEntry.fullPath</b> == '/logFile.txt'
 
    // Get a File obj
    <b>fileEntry.file</b>(function(file) { /* TODO: Use FileReader */ }, errorHandler);
 
    // <b>fileEntry.remove</b>(function() {}, errorHandler);
    // <b>fileEntry.moveTo</b>(...);
    // <b>fileEntry.copyTo</b>(...);
    // <b>fileEntry.getParent</b>(function(dirEntry) {}, errorHandler);
 
  }, errorHandler);
 
}
</pre> 
  </section> 
</div> 
 
 
<!--
 *
 * FileSystem: Fetching a directory by name
 *
--> 
<div class="slide"> 
  <header>Fetching a directory by name</header> 
  <section> 
    <pre style="font-size:22px;"> 
function initFs(fs) {
 
  <b>fs.root.getDirectory</b>('myFolder', {create: true, <b>exclusive: true</b>},
    function (dirEntry) {
 
      // <b>dirEntry.isDirectory</b> == true
 
      // Remove the directory
      <b>dirEntry.removeRecursively</b>(function() {
        console.log('Well, that was pointless!');
      }, errorHandler);
 
      // <b>dirEntry.getFile</b>(...);
      // <b>dirEntry.getDirectory</b>(...);
 
    }, errorHandler);
 
}
</pre> 
  </section> 
</div> 
 
 
<!--
 *
 * FileSystem: Reading a directory's contents
 *
--> 
<div class="slide"> 
  <header>Reading directory contents</header> 
  <section> 
    <pre style="font-size:24px;"> 
function initFs(fs) {
 
  var root = <b>fs.root</b>;  // A DirectoryEntry itself
 
  var dirReader = root.<b>createReader</b>(); // DirectoryReader
  <b>dirReader.readEntries</b>(function(entries) {
    for (var i = 0, entry; entry = entries[i]; ++i) {
      console.log(<b>entry.name</b>, <b>entry.isFile</b>, <b>entry.isDirectory</b>);
    }
  }, errorHandler);
 
}
</pre> 
  </section> 
</div> 
 
 
<!--
 *
 * FileSystem: Writing a file
 *
--> 
<div class="slide"> 
  <header>Writing a file ( <code>FileWriter</code> )</header> 
  <section> 
    <pre style="font-size:20px;"> 
function initFs(fs) {
 
  fs.root.getFile('logFile.txt', {create: true}, function(fileEntry) {
 
    <b>fileEntry.createWriter</b>(function(<b>writer</b>) {  // FileWriter
 
        <b>writer.onwrite</b> = function(e) {
          console.log('Write completed.');
        };
 
        <b>writer.onerror</b> = function(e) {
          console.log('Write failed: ' + e);
        };
 
        var bb = new BlobBuilder();
        bb.append('Lorem ipsum');
        <b>writer.write</b>(bb.getBlob('text/plain'));
 
    }, errorHandler);
  }
 
}
</pre> 
  </section> 
</div>

<div class="slide">
  <header>In the background</header>
  <section class="hbox boxcenter">
   <div class="noflex vbox boxcenter">
<pre>window.open("apage.html#", "background", "background");</pre>
  </div>
  </section>
</div>
<div class="slide">
  <header>More ways to make Web Apps special</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
      <p>Make them <strong>Offline enabled</strong>:</p> <ul><li>App-Cache and Databases.</li></ul>
      <p>Utilize <strong>Background processing</strong>:</p>
      <ul><li>Web Workers.</li></ul>
      <p>Take advantage of <strong>Hardware acceleration</strong>:</p>
      <ul><li>3D, Canvas, CSS Transforms and Transitions</li></ul>
    </div>
  </section>
</div>



<div class="slide">
  <header>Links</header>
  <section class="hbox boxcenter">
    <div class="noflex vbox boxcenter">
    <p><a href="http://www.html5rocks.com/">html5rocks.com</a></p>
    <p><a href="http://code.google.com/chrome/apps/">  code.google.com/chrome/apps/- Apps developer guide</a></p>
    <p><a href="http://code.google.com/chrome/webstore/docs/">code.google.com/chrome/webstore/docs/ - Web Store developer guide</a></p>
    </div>
  </section>
</div>

<div class="slide">
  <header>Thanks</header>
  <section class="hbox boxcenter">
    <p>@Paul_Kinlan</p>
  </section>
</div>
      </div> <!-- slides -->
      
    </div> <!-- presentation -->
  </body>
</html>
